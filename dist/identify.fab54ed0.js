!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequire33cf;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){o[e]=t},t.parcelRequire33cf=a),a("3rkIU").register(JSON.parse('{"eSxpj":"identify.fab54ed0.js","7xBTE":"sgiso_worker.b7491b5b.js","hBKZF":"index.c86ea59d.js"}'));var d=a("22BvR"),i=a("2hmjV"),r=a("lgcSj"),c=a("48EYa"),s=a("kBTuX"),m=a("b8MII"),u=a("22twO"),l=a("kVa2A");a("8jlR0");var f,p,w=a("g00W3"),v=a("bn6f8"),y=a("eVhA1"),b=a("g3IaC"),g=a("hY30G"),h=a("gykxM"),j=a("hzTrw"),O=a("jOuLE"),x=a("9ofNy"),N=a("hr1UL"),I=a("fHB38"),C=a("6tNEv"),E=a("brS0K"),T=a("j36hr"),k=a("5XAEm"),A=a("fvlsR"),M=a("9L71O"),K=a("2D7Sc"),D=function(){"use strict";function t(n,o){var a=this;e(T)(this,t),e(A)(this,"activate",(function(){var t=e(M).length,n=Math.floor(Math.random()*t);a.loadFile(e(M)[n].file),console.log("Loaded ".concat(e(M)[n].name))})),e(A)(this,"deactivate",(function(){})),this.cy=n,this.parameters=o,this.loadFile=function(e){var t=a;fetch(K[e]).then((function(e){return e.json()})).then((function(e){t.cy.json(e),t.cy.layout({name:"random"}).run(),t.cy.fit(void 0,30),n.nodes().positions((function(e){return e.renderedPosition()})),t.cy.fit(void 0,30),t.parameters.nodeIndex=t.cy.nodes().map((function(e){return e.id()})),t.cy.emit("cm-graph-updated")}))}}return e(k)(t,[{key:"render",value:function(){}},{key:"infobox",value:function(){return""}}]),t}(),S=a("4Jbmd"),_=a("67Y1Y"),R=a("efzB6");T=a("j36hr"),k=a("5XAEm"),A=a("fvlsR");p=function(e,t,n){if(t===self.location.origin)return e;var o=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([o],{type:"application/javascript"}))};var B=a("cP1aT"),L=B.getBundleURL("eSxpj")+a("3rkIU").resolve("7xBTE");f=p(L,B.getOrigin(L),!1);var F=function(){"use strict";function t(n,o){var a=this;e(T)(this,t),e(A)(this,"activate",(function(){a.findIsomorphisms()})),e(A)(this,"deactivate",(function(){a.parameters.outputContainer.textContent=""})),this.cy=n,this.parameters=o,this.findIsomorphisms=function(){if(window.Worker&&a.parameters.isoTarget&&a.parameters.isoTargetParams){var e=a,t=new Worker(f),n=a.cy,o=a.parameters.isoTarget,d=a.parameters,i=a.parameters.isoTargetParams,r=n.elements().utils().adjacencyMatrix(),c=o.elements().utils().adjacencyMatrix();t.postMessage([c,r]),t.onmessage=function(t){if(t.data.length>0){var a=t.data[0];n.layout({name:"preset",animate:!0,animationDuration:2e3,positions:function(e){var t=e.id(),n=d.nodeIndex.indexOf(t),r=a[n].indexOf(1),c=i.nodeIndex[r],s=o.$("#".concat(c)).position();return console.log(t,n,r,c),s}}).run(),e.parameters.outputContainer.textContent="Isomorphism found!"}else e.parameters.outputContainer.textContent="Isomorphism NOT found!"}}else console.log("Your browser doesn't support web workers.")},window.findIso=this.findIsomorphisms}return e(k)(t,[{key:"render",value:function(){}},{key:"infobox",value:function(){return""}}]),t}(),P=(c=a("48EYa"),M=a("9L71O"),K=a("2D7Sc"),v=a("bn6f8"),{modeName:"modeNull",textKey:"Pointer",icon:(R=a("efzB6")).iconPointer,modeObj1:new(0,v.default)(window.cy1,window.parameters1),modeObj2:new(0,v.default)(window.cy2,window.parameters2)});function H(e){window.secondaryMode.modeObj1.deactivate(),window.secondaryMode=e,window.secondaryMode.modeObj1.activate(),window.cy1.emit("cm-graph-updated"),window.cy2.emit("cm-graph-updated")}function G(e,t,n){var o=c.select("#gallery").selectAll("div.graphGalleryItem").data(e,(function(e){return e.file})),a=o.enter().append("div").classed("graphGalleryItem",!0).on("click",(function(e,o){var a,d,i;a=t,d=n,i=o.file,fetch(K[i]).then((function(e){return e.json()})).then((function(e){a.json(e),a.fit(void 0,30),a.nodes().positions((function(e){return e.renderedPosition()})),a.fit(void 0,30),d.nodeIndex=a.nodes().map((function(e){return e.id()})),a.emit("cm-graph-updated")}))}));a.append("div").append("img").attr("src",(function(e){return K["".concat(e.file,"_Icon")]})).attr("height","80px"),a.append("div").html((function(e){return e.name})),o.exit().remove()}function U(t){var n=c.select(".invTabHeaders").selectAll("td.invData").data(t),o=c.select(".invTabFilters").selectAll("td.invData").data(t),a=c.select(".invTabCy1").selectAll("td.invData").data(t),d=c.select(".invTabCy2").selectAll("td.invData").data(t);n.enter().append("td").classed("invData",!0).classed("translate",!0).attr("data-i18n",(function(e){return"[html]".concat(e.textKey)})).on("click",(function(e,t){var n=e.currentTarget;n instanceof Element&&(t===window.secondaryMode?(H(P),c.select(n).classed("infoItemActive",!1)):(H(t),c.select(".infoItemActive").classed("infoItemActive",!1),c.select(n).classed("infoItemActive",!0)))})),o.enter().append("td").classed("invData",!0).append("input").classed("filter",!0).attr("cm-invariant",(function(e){return"".concat(e.modeName)})).on("change",(function(){return t=e(M),c.selectAll(".filter").each((function(e,n,o){""!==o[n].value&&(t=t.filter((function(t){return t.invariants[e.invName]===Number(o[n].value)})))})),void G(t,window.cy1,window.parameters1);var t}));var i=a.enter().append("td").classed("invData",!0),r=d.enter().append("td").classed("invData",!0);n.exit().remove(),o.exit().remove(),a.exit().remove(),d.exit().remove(),a.merge(i).html((function(e){return e.modeObj1.infobox()})),d.merge(r).html((function(e){return e.modeObj2.infobox()})),window.secondaryMode!==P&&window.secondaryMode.modeObj1.render()}M=a("9L71O");var Y=e(i)(e(d)({},e(l)(w.cyOptions),{container:document.getElementById("cy1")})),q=e(i)(e(d)({},e(l)(w.cyOptions),{container:document.getElementById("cy2")})),z={idNodeCount:1,idEdgeCount:1,outputContainer:document.getElementById("output"),nodeIndex:[]},J={idNodeCount:1,idEdgeCount:1,outputContainer:document.getElementById("output"),nodeIndex:[],isoTarget:q,isoTargetParams:z},V=[{modeName:"modeClear",textKey:"Clear",icon:R.iconClear,modeObj1:new(0,S.default)(Y,J),modeObj2:new(0,v.default)(q,z)},{modeName:"modeExport",textKey:"Export",icon:R.iconExport,modeObj1:new(0,C.default)(Y,J),modeObj2:new(0,v.default)(q,z)},{modeName:"modeImport",textKey:"Import",icon:R.iconImport,modeObj1:new(0,E.default)(Y,J),modeObj2:new(0,v.default)(q,z)},{modeName:"modeNull",textKey:"Pointer",icon:R.iconPointer,modeObj1:new(0,v.default)(Y,J),modeObj2:new(0,v.default)(q,z)},{modeName:"modeNode",textKey:"Nodes",icon:R.iconNode,modeObj1:new(0,y.default)(Y,J),modeObj2:new(0,v.default)(q,z)},{modeName:"modeEdge",textKey:"Edges",icon:R.iconEdge,modeObj1:new(0,b.default)(Y,J),modeObj2:new(0,v.default)(q,z)}],W=[{modeName:"modeLoadRandom",textKey:"Target",icon:R.iconQuestion,modeObj1:new(0,v.default)(Y,J),modeObj2:new D(q,z)},{modeName:"modeIsoCheck",textKey:"Check",icon:R.iconCheck,modeObj1:new F(Y,J),modeObj2:new(0,v.default)(q,z)}],X=[{modeName:"modeNumNodes",invName:"numNodes",textKey:"Order",modeObj1:new(0,h.default)(Y,J),modeObj2:new(0,h.default)(q,z)},{modeName:"modeNumEdges",invName:"numEdges",textKey:"Size",modeObj1:new(0,j.default)(Y,J),modeObj2:new(0,j.default)(q,z)},{modeName:"modeGirth",invName:"girth",textKey:"Girth",modeObj1:new(0,g.default)(Y,J),modeObj2:new(0,g.default)(q,z)},{modeName:"modeDegSequence",invName:"degSequence",textKey:"Degree_sequence",modeObj1:new(0,O.default)(Y,J),modeObj2:new(0,O.default)(q,z)},{modeName:"modeComponents",invName:"components",textKey:"Connected_components",modeObj1:new(0,x.default)(Y,J),modeObj2:new(0,x.default)(q,z)},{modeName:"modeCircuitRank",invName:"circuitRank",textKey:"Circuit_rank",modeObj1:new(0,N.default)(Y,J),modeObj2:new(0,N.default)(q,z)},{modeName:"modeDiameter",invName:"diameter",textKey:"Diameter",modeObj1:new(0,I.default)(Y,J),modeObj2:new(0,I.default)(q,z)},{modeName:"modeDetAdjacency",invName:"detAdjacency",textKey:"Adjacency_det",modeObj1:new(0,_.default)(Y,J),modeObj2:new(0,_.default)(q,z)}],Q=P,Z=P;s.default.use(m.default).init(w.i18nextOptions);var $=e(u).init(s.default);function ee(e,t){var n=c.select(e).selectAll("button").data(t).enter().append("button").classed("toolbar-button",!0).attr("id",(function(e){return"btn-".concat(e.modeName)}));n.append("img").attr("src",(function(e){return e.icon?e.icon:R.iconDijkstra})),n.append("div").classed("translate",!0).attr("data-i18n",(function(e){return e.textKey})),n.on("click",(function(e,t){var n;n=t,window.primaryMode.modeObj1.deactivate(),window.primaryMode.modeObj2.deactivate(),window.primaryMode=n,window.primaryMode.modeObj1.activate(),window.primaryMode.modeObj2.activate()}))}window.d3=c,window.parameters1=J,window.parameters2=z,e(r)((function(){var t,n,o;window.cy1=Y,window.cy2=q,window.primaryMode=Q,window.secondaryMode=Z,Q.modeObj1.activate(),Q.modeObj2.activate(),(t=c.select("#langSelector").classed("dropdown",!0)).append("button").attr("class","btn btn-secondary dropdown-toggle").attr("type","button").attr("data-bs-toggle","dropdown").append("img").attr("src",R.iconTranslate).attr("width","30px"),t.append("ul").classed("dropdown-menu",!0),t.select(".dropdown-menu").selectAll("li").data(w.langList).enter().append("li").append("a").classed("dropdown-item",!0).attr("href","#").on("click",(function(e,t){s.default.changeLanguage(t.isoCode).then((function(){return $(".translate")})).catch((function(e){console.error("Changing to language ".concat(t.isoCode," failed."),e)}))})).text((function(e){return e.endonym})),ee("#toolbar",V),ee("#target-tools",W),n=X,(o=c.select("#invariants").append("table").classed("invTab",!0)).append("tr").classed("invTabHeaders",!0).append("td").html("Invariant"),o.append("tr").classed("invTabCy1",!0).append("td").html("Your Graph"),o.append("tr").classed("invTabCy2",!0).append("td").html("Target Graph"),o.append("tr").classed("invTabFilters",!0).append("td").html("Gallery Filter"),U(n),G(e(M),Y,J),window.filter=function(){G(e(M).filter((function(e){return 0===e.invariants.detAdjacency})),Y,J)},Y.on("cm-graph-updated",(function(){return U(X)})),q.on("cm-graph-updated",(function(){return U(X)})),$(".translate")}))}();
//# sourceMappingURL=identify.fab54ed0.js.map

{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-e6cc012133c373dd.js","src/ts/main.ts","src/ts/modesList.ts","src/ts/modes/ModeLoad.ts","<<jsx-config-pragma.js>>","node_modules/@parcel/runtime-js/lib/helpers/get-worker-url.js","node_modules/@parcel/runtime-js/lib/runtime-34d8ff7c41a89b2c.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"hHmmC\\\":\\\"index.25faef1f.js\\\",\\\"7xBTE\\\":\\\"sgiso_worker.b7491b5b.js\\\",\\\"hBKZF\\\":\\\"index.c86ea59d.js\\\"}\"));","// import assert from 'assert';\nimport cytoscape from 'cytoscape';\nimport ready from 'document-ready';\nimport * as d3 from 'd3-selection';\nimport i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport locI18next from 'loc-i18next';\n\nimport './side-effects';\n\nimport { i18nextOptions, langList } from './constants';\n\nimport { cy, parameters, toolbarModes, infoboxModes } from './modesList';\nimport ModeNull from './modes/ModeNull';\nimport { Mode } from './modes/modes';\n\nimport * as assets from './assets';\n\n// eslint-disable-next-line no-void\nvoid i18next.use(LanguageDetector).init(i18nextOptions);\nconst localize = locI18next.init(i18next);\n\n/**\n * Specify types of global variables that are not yet defined on 'window'.\n * Technically, this declaration is not correct, because the variables are\n * only defined in main, but not before it is executed. The correct way would be\n * ```\n * declare global {\n *   interface Window {\n *     cy: cytoscape.Core | undefined;\n *     d3: typeof d3 | undefined;\n *   }\n * }\n * ```\n * But then you would need to check for 'undefined' everywhere in your code\n * where the global variables are used, which is quite cumbersome for debugging.\n *\n * A cleaner way would to do it would be to define a method on window that returns\n * a promise that resolves with cy after main is executed.\n * Similar to navigator.requestMIDIAccess().\n */\ndeclare global {\n  interface Window {\n    cy: cytoscape.Core;\n    d3: typeof d3;\n    findIso: (a: void) => void;\n  }\n}\nwindow.d3 = d3;\n// window.parameters = parameters;\n\nfunction main() {\n  // After this, window.cy is shadowing the function-local cy.\n  // This is because the globalThis pointer refers to 'window' in the browser environment.\n  // Both have no type assigned on the window object.\n  // Same for the global vs. local d3 object.\n  window.cy = cy;\n\n  const findIsomorphisms = () => {\n    if (window.Worker) {\n      const worker = new Worker(\n        new URL('./modes/sgiso_worker.ts', import.meta.url),\n        {\n          type: 'module',\n        },\n      );\n      const A = cy.elements().utils().adjacencyMatrix();\n\n      worker.postMessage([A, A]);\n\n      worker.onmessage = () => {\n        // console.log(e.data);\n      };\n    } else {\n      // eslint-disable-next-line no-console\n      console.log(\"Your browser doesn't support web workers.\");\n    }\n  };\n\n  window.findIso = findIsomorphisms;\n\n  // d3.select('#output').html(i18next.t('Connected_components')); // test\n\n  const modeNull = new ModeNull(cy, parameters);\n  let primaryMode: Mode = modeNull;\n  let secondaryMode: Mode = infoboxModes[0].modeObj;\n\n  primaryMode.activate();\n  secondaryMode.activate();\n\n  function switchPrimaryMode(newMode: Mode) {\n    primaryMode.deactivate();\n    primaryMode = newMode;\n    primaryMode.activate();\n  }\n\n  function switchSecondaryMode(newMode: Mode) {\n    secondaryMode.deactivate();\n    secondaryMode = newMode;\n    secondaryMode.activate();\n  }\n\n  // Make Language Selector\n  d3.select('#langSelector')\n    .select('.dropdown-menu')\n    .selectAll('li')\n    .data(langList)\n    .enter()\n    .append('li')\n    .append('a')\n    .classed('dropdown-item', true)\n    .attr('href', '#')\n    .on('click', (ev, d) => {\n      i18next\n        .changeLanguage(d.isoCode)\n        .then(() => localize('.translate'))\n        .catch((reason) => {\n          // TODO: Handle the error properly instead of ignoring it.\n          // eslint-disable-next-line no-console\n          console.error(`Changing to language ${d.isoCode} failed.`, reason);\n        });\n    })\n    .text((d) => d.endonym);\n\n  // Make toolbar buttons\n  const buttons = d3\n    .select('#toolbar')\n    .selectAll('button')\n    .data(toolbarModes)\n    .enter()\n    .append('button')\n    .classed('toolbar-button', true)\n    .attr('id', (d) => `btn-${d.modeName}`);\n\n  buttons.append('img').attr('src', (d) => d.icon);\n\n  // d3.select('#btn-modeLayout')\n  //   .append('select')\n  //   .attr('id', 'selectLayout')\n  //   .selectAll('option')\n  //   .data([\n  //     { value: 'circle', textKey: 'Circle' },\n  //     { value: 'random', textKey: 'Random' },\n  //   ])\n  //   .enter()\n  //   .append('option')\n  //   .attr('value', (d) => d.value)\n  //   // .classed('translate', true)\n  //   // .attr('data-i18n', (d) => d.textKey);\n  //   .html((d) => d.textKey);\n\n  buttons\n    .append('div')\n    .classed('translate', true)\n    .attr('data-i18n', (d) => d.textKey);\n  // .html((d) => i18next.t(d.textKey));\n\n  buttons.on('click', (ev, d) => {\n    switchPrimaryMode(d.modeObj);\n  });\n\n  // Make Load modal\n  d3.select('#btn-modeLoad')\n    .attr('data-bs-toggle', 'modal')\n    .attr('data-bs-target', '#exampleModal');\n\n  // Make infobox items\n  function updateInfo() {\n    const infoboxItems = d3\n      .select('#infobox')\n      .selectAll<HTMLDivElement, unknown>('div.infoItem')\n      .data(infoboxModes);\n\n    const newItems = infoboxItems\n      .enter()\n      .append('div')\n      .attr('id', (d) => `infoItem-${d.modeName}`)\n      .classed('infoItem', true);\n\n    newItems // Info icon\n      .append('img')\n      .attr('src', assets.iconInfo)\n      .attr('data-bs-toggle', 'collapse')\n      .attr('data-bs-target', (d) => `#infoItem-text-${d.modeName}`)\n      .on('click', (ev: Event) => {\n        ev.stopPropagation();\n      });\n\n    newItems.append('div').classed('outputText', true); // container for text\n\n    newItems // Tip text\n      .append('div')\n      .attr('id', (d) => `infoItem-text-${d.modeName}`)\n      .attr('data-bs-parent', '#infobox')\n      .attr('data-bs-toggle', 'collapse')\n      .classed('tipText', true)\n      .classed('collapse', true)\n      .classed('translate', true)\n      .attr('data-i18n', (d) => `[html]${d.textKey}_Tip`);\n    // .html((d) => i18next.t(`${d.textKey}_Tip`));\n\n    newItems.on('click', (ev: MouseEvent, d) => {\n      const target = ev.currentTarget;\n      if (target instanceof Element) {\n        if (d.modeObj === secondaryMode) {\n          switchSecondaryMode(modeNull);\n          d3.select(target).classed('infoItemActive', false);\n        } else {\n          switchSecondaryMode(d.modeObj);\n          d3.select('.infoItemActive').classed('infoItemActive', false);\n          d3.select(target).classed('infoItemActive', true);\n        }\n      }\n    });\n\n    // update selection\n    infoboxItems\n      .merge(newItems)\n      .select('.outputText')\n      .html(\n        (d) =>\n          `<span class=\"translate\" data-i18n=\"[html]${d.textKey}\">\n          ${i18next.t(d.textKey)}\n          </span>: \n          ${d.modeObj.infobox()}`,\n      );\n\n    // if (!d3.select('.infoItemActive').empty()) {\n    //   d3.select('.infoItemActive').datum().modeObj.render();\n    if (secondaryMode !== modeNull) {\n      secondaryMode.render();\n    }\n  }\n\n  // window.infoboxModes = infoboxModes;\n\n  cy.on('cm-graph-updated', updateInfo);\n\n  updateInfo();\n  d3.select('.infoItem').classed('infoItemActive', true);\n\n  // //Other test functions\n  // function showGraphExport() {\n  //   const json = cy.json();\n  //   const jsonString = JSON.stringify(json, null, 4);\n  //   d3.select('#outputText').text(jsonString);\n  // }\n  // d3.select('#showJSON').on('click', showGraphExport);\n\n  localize('.translate');\n}\n\nready(main);\n","/* this file creates the cy instance, the parameters instance, and the arrays of modes to be used */\nimport cytoscape from 'cytoscape';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { Mode, Parameters } from './modes/modes';\nimport { cyOptions } from './constants';\n\nimport * as assets from './assets';\n\nimport ModeNull from './modes/ModeNull';\nimport ModeNode from './modes/ModeNode';\nimport ModeEdge from './modes/ModeEdge';\n// import ModeDijkstra from './modes/ModeDijkstra';\nimport ModeGirth from './modes/ModeGirth';\nimport ModeNumNodes from './modes/ModeNumNodes';\nimport ModeNumEdges from './modes/ModeNumEdges'; // ModeNumEdges -> ES Module\nimport ModeDegSequence from './modes/ModeDegSequence';\nimport ModeComponents from './modes/ModeComponents';\nimport ModeCircuitRank from './modes/ModeCircuitRank';\nimport ModeDiameter from './modes/ModeDiameter';\nimport ModeExport from './modes/ModeExport';\nimport ModeImport from './modes/ModeImport';\nimport ModeLoad from './modes/ModeLoad';\n// import ModeLayout from './modes/ModeLayout';\nimport ModeClear from './modes/ModeClear';\nimport ModeDetAdjacency from './modes/ModeDetAdjacency';\n// import ModeAdjacencyMatrix from './modes/ModeAdjacencyMatrix';\n\nconst parameters: Parameters = {\n  idNodeCount: 1,\n  idEdgeCount: 1,\n  outputContainer: document.getElementById('output') as HTMLElement,\n  nodeIndex: [],\n};\n\nconst cy = cytoscape({\n  ...cloneDeep(cyOptions),\n  ...{ container: document.getElementById('cy') },\n});\n\ntype ModeConfig = {\n  modeName: string;\n  textKey: string;\n  icon: string;\n  modeObj: Mode;\n};\n\nconst toolbarModes: ModeConfig[] = [\n  {\n    modeName: 'modeClear',\n    textKey: 'Clear',\n    icon: assets.iconClear,\n    modeObj: new ModeClear(cy, parameters),\n  },\n  {\n    modeName: 'modeExport',\n    textKey: 'Export',\n    icon: assets.iconExport,\n    modeObj: new ModeExport(cy, parameters),\n  },\n  {\n    modeName: 'modeImport',\n    textKey: 'Import',\n    icon: assets.iconImport,\n    modeObj: new ModeImport(cy, parameters),\n  },\n  {\n    modeName: 'modeLoad',\n    textKey: 'Load',\n    icon: assets.iconLoad,\n    modeObj: new ModeLoad(cy, parameters),\n  },\n  {\n    modeName: 'modeNull',\n    textKey: 'Pointer',\n    icon: assets.iconPointer,\n    modeObj: new ModeNull(cy, parameters),\n  },\n  {\n    modeName: 'modeNode',\n    textKey: 'Nodes',\n    icon: assets.iconNode,\n    modeObj: new ModeNode(cy, parameters),\n  },\n  {\n    modeName: 'modeEdge',\n    textKey: 'Edges',\n    icon: assets.iconEdge,\n    modeObj: new ModeEdge(cy, parameters),\n  },\n  // {\n  //   modeName: 'modeLayout',\n  //   textKey: 'Layout',\n  //   icon: assets.iconEdge,\n  //   modeObj: new ModeLayout(cy, parameters),\n  // },\n  // {\n  //   modeName: 'modeDijkstra',\n  //   textKey: 'Shortest_path',\n  //   icon: assets.iconDijkstra,\n  //   modeObj: new ModeDijkstra(cy, parameters),\n  // },\n];\n\nconst infoboxModes: ModeConfig[] = [\n  {\n    modeName: 'modeNumNodes',\n    textKey: 'Order',\n    icon: assets.iconGirth,\n    modeObj: new ModeNumNodes(cy, parameters),\n  },\n  {\n    modeName: 'modeNumEdges',\n    textKey: 'Size',\n    icon: assets.iconGirth,\n    modeObj: new ModeNumEdges(cy, parameters),\n  },\n  {\n    modeName: 'modeGirth',\n    textKey: 'Girth',\n    icon: assets.iconGirth,\n    modeObj: new ModeGirth(cy, parameters),\n  },\n  {\n    modeName: 'modeDegSequence',\n    textKey: 'Degree_sequence',\n    icon: assets.iconGirth,\n    modeObj: new ModeDegSequence(cy, parameters),\n  },\n  {\n    modeName: 'modeCompponents',\n    textKey: 'Connected_components',\n    icon: assets.iconGirth,\n    modeObj: new ModeComponents(cy, parameters),\n  },\n  {\n    modeName: 'modeCircuitRank',\n    textKey: 'Circuit_rank',\n    icon: assets.iconGirth,\n    modeObj: new ModeCircuitRank(cy, parameters),\n  },\n  {\n    modeName: 'modeDiameter',\n    textKey: 'Diameter',\n    icon: assets.iconGirth,\n    modeObj: new ModeDiameter(cy, parameters),\n  },\n  {\n    modeName: 'modeDetAdjacency',\n    textKey: 'Adjacency_det',\n    icon: assets.iconGirth,\n    modeObj: new ModeDetAdjacency(cy, parameters),\n  },\n  // {\n  //   modeName: 'modeAdjacencyMatrix',\n  //   textKey: 'Adjacency_matrix',\n  //   icon: assets.iconGirth,\n  //   modeObj: new ModeAdjacencyMatrix(cy, parameters),\n  // },\n];\n\nexport { cy, parameters, toolbarModes, infoboxModes };\n","/* eslint-disable class-methods-use-this */\nimport * as d3 from 'd3-selection';\nimport { Core } from 'cytoscape';\nimport { Mode, Parameters } from './modes';\nimport graphGalleryList from '../../graph-gallery/graphs-list.json';\nimport * as agr from '../../graph-gallery/graphs-assets';\n\nexport default class ModeLoad implements Mode {\n  cy;\n\n  parameters;\n\n  loadFile = (grId: string) => {\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    fetch(agr[grId as keyof typeof agr])\n      .then((response) => response.json())\n      .then((data) => {\n        this.cy.json(data as object);\n\n        this.cy.fit(undefined, 30); // zoom and pan to fill the viewport\n        this.cy.nodes().positions((n) => n.renderedPosition()); // fix the rendered positions as model positions\n        this.cy.fit(undefined, 30); // pan to center again (zoom should be ~1)\n\n        this.parameters.nodeIndex = this.cy.nodes().map((e) => e.id());\n        this.cy.emit('cm-graph-updated');\n      });\n  };\n\n  makeGallery = (data: typeof graphGalleryList) => {\n    const galleryContainer = d3\n      .select('#graphList')\n      .selectAll('div')\n      .data(data);\n\n    // enter selection\n    const newItems = galleryContainer\n      .enter()\n      .append('div')\n      .classed('graphGalleryItem', true)\n      .attr('data-bs-dismiss', 'modal')\n      .on('click', (ev, d) => {\n        this.loadFile(d.file);\n      });\n\n    newItems\n      .append('div')\n      .append('img')\n      .attr('src', (d) => agr[`${d.file}_Icon` as keyof typeof agr])\n      .attr('height', '80px');\n\n    newItems.append('div').html((d) => d.name);\n\n    // exit selection\n    galleryContainer.exit().remove();\n\n    // update selection: none\n  };\n\n  constructor(cy: Core, parameters: Parameters) {\n    this.cy = cy;\n    this.parameters = parameters;\n\n    // //  button is not yet created when the mode is instantiated.\n    // d3.select('#btn-modeLoad')\n    //   .attr('data-bs-toggle', 'modal')\n    //   .attr('data-bs-target', '#exampleModal');\n\n    // make filters\n    d3.select('#graphFilters').text('Filters');\n\n    this.makeGallery(graphGalleryList);\n  }\n\n  activate = () => {};\n\n  render() {}\n\n  infobox() {\n    return '';\n  }\n\n  deactivate = () => {};\n}\n",null,"\"use strict\";\n\nmodule.exports = function (workerUrl, origin, isESM) {\n  if (origin === self.location.origin) {\n    // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n  } else {\n    // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n    var source = isESM ? 'import ' + JSON.stringify(workerUrl) + ';' : 'importScripts(' + JSON.stringify(workerUrl) + ');';\n    return URL.createObjectURL(new Blob([source], {\n      type: 'application/javascript'\n    }));\n  }\n};","let workerURL = require('./helpers/get-worker-url');\nlet bundleURL = require('./helpers/bundle-url');\nlet url = bundleURL.getBundleURL('hHmmC') + require('./helpers/bundle-manifest').resolve(\"7xBTE\");module.exports = workerURL(url, bundleURL.getOrigin(url), false);"],"names":["$2813f7ea3cc58695$export$6503ec6e8aabbaf","$2813f7ea3cc58695$export$f7ad0328861e2f03","$2813f7ea3cc58695$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$955b28bea593eb9d$export$bdfd709ae4826697","$955b28bea593eb9d$export$5a759dc7a1cfb72a","$955b28bea593eb9d$var$bundleURL","$955b28bea593eb9d$var$getBaseURL","url","replace","value","err","matches","stack","match","$955b28bea593eb9d$var$getBundleURL","parcelRequire","register","JSON","parse","$lgcSj","$22BvR","$j36hr","$0931181a8d03c290$export$2e2bcd8739ae039","ModeLoad","cy","parameters","$parcel$interopDefault","$fvlsR","this","grId","fetch","$2D7Sc","then","response","json","data","_this1","fit","undefined","nodes","positions","n","renderedPosition","nodeIndex","map","e","emit","galleryContainer","$48EYa","select","selectAll","newItems","enter","append","classed","attr","on","ev","d","_this2","loadFile","file","concat","html","name","exit","remove","text","makeGallery","$9L71O","key","$1057b90e5135a7e6$export$283c7b7b2d0a1841","idNodeCount","idEdgeCount","outputContainer","document","getElementById","$1057b90e5135a7e6$export$aea64bc1b6f8f415","$2hmjV","$kVa2A","$g00W3","cyOptions","container","$1057b90e5135a7e6$export$f5178b693946e751","modeName","textKey","icon","$efzB6","iconClear","modeObj","$4Jbmd","default","iconExport","$6tNEv","iconImport","$brS0K","iconLoad","iconPointer","$bn6f8","iconNode","$eVhA1","iconEdge","$g3IaC","$1057b90e5135a7e6$export$546aa31356d3f063","iconGirth","$gykxM","$hzTrw","$hY30G","$jOuLE","$9ofNy","$hr1UL","$fHB38","$67Y1Y","$kBTuX","use","$b8MII","init","i18nextOptions","$7091995d75c15106$var$localize","$22twO","window","d3","$b1dcaf659c9d437c$exports","workerUrl","origin","isESM","self","location","source","stringify","URL","createObjectURL","Blob","type","$1b8be87fc693785b$var$url","$cP1aT","getBundleURL","resolve","$1b8be87fc693785b$exports","getOrigin","switchSecondaryMode","newMode","secondaryMode","deactivate","activate","updateInfo","infoboxItems","iconInfo","stopPropagation","target","currentTarget","Element","modeNull","merge","t","infobox","render","findIso","Worker","worker","A","elements","utils","adjacencyMatrix","postMessage","onmessage","console","log","primaryMode","langList","changeLanguage","isoCode","catch","reason","error","endonym","buttons"],"version":3,"file":"index.25faef1f.js.map"}
function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequire33cf;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){o[e]=t},t.parcelRequire33cf=a),a("k7MU1").register(JSON.parse('{"bTNK7":"identify.19d8da6c.js","7xBTE":"sgiso_worker.b7491b5b.js","7nvGH":"index.8dbd3038.js"}'));var d=a("5KKEU"),i=a("54AWr"),r=a("8k2jw"),s=a("6Wn7g"),m=a("1sw6k"),c=a("2iS8N"),l=a("lVRnG");a("etEtk");var p=a("o8PHX"),u=a("iw6Aq"),w=a("3cw25"),f=a("4nuKq"),y=a("cyd7k"),b=a("2JjVN"),g=a("9vYTT"),h=a("bRZgy"),v=a("d6NgQ"),j=a("3KKZx"),x=a("3vMvi"),O=a("lwSBY"),N=a("big6F"),C=a("iVMYU"),I=a("jE6or"),T=a("gPtcg");var E,K,M=a("fL0K9"),k=a("dY183"),A=a("d6xW4");C=a("iVMYU");K=function(e,t,n){if(t===self.location.origin)return e;var o=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([o],{type:"application/javascript"}))};let D=new URL(a("k7MU1").resolve("7xBTE"),import.meta.url);E=K(D.toString(),D.origin,!0);r=a("8k2jw"),I=a("jE6or"),T=a("gPtcg"),u=a("iw6Aq");const _={modeName:"modeNull",textKey:"Pointer",icon:(A=a("d6xW4")).iconPointer,modeObj1:new(0,u.default)(window.cy1,window.parameters1),modeObj2:new(0,u.default)(window.cy2,window.parameters2)};function S(e){window.secondaryMode.modeObj1.deactivate(),window.secondaryMode=e,window.secondaryMode.modeObj1.activate(),window.cy1.emit("cm-graph-updated"),window.cy2.emit("cm-graph-updated")}function R(e,t,n){const o=r.select("#gallery").selectAll("div.graphGalleryItem").data(e,(e=>e.file)),a=o.enter().append("div").classed("graphGalleryItem",!0).on("click",((e,o)=>{var a,d,i;a=t,d=n,i=o.file,fetch(T[i]).then((e=>e.json())).then((e=>{a.json(e),a.fit(void 0,30),a.nodes().positions((e=>e.renderedPosition())),a.fit(void 0,30),d.nodeIndex=a.nodes().map((e=>e.id())),a.emit("cm-graph-updated")}))}));a.append("div").append("img").attr("src",(e=>T[`${e.file}_Icon`])).attr("height","80px"),a.append("div").html((e=>e.name)),o.exit().remove()}function P(t){const n=r.select(".invTabHeaders").selectAll("td.invData").data(t),o=r.select(".invTabFilters").selectAll("td.invData").data(t),a=r.select(".invTabCy1").selectAll("td.invData").data(t),d=r.select(".invTabCy2").selectAll("td.invData").data(t);n.enter().append("td").classed("invData",!0).classed("translate",!0).attr("data-i18n",(e=>`[html]${e.textKey}`)).on("click",((e,t)=>{const n=e.currentTarget;n instanceof Element&&(t===window.secondaryMode?(S(_),r.select(n).classed("infoItemActive",!1)):(S(t),r.select(".infoItemActive").classed("infoItemActive",!1),r.select(n).classed("infoItemActive",!0)))})),o.enter().append("td").classed("invData",!0).append("input").classed("filter",!0).attr("cm-invariant",(e=>`${e.modeName}`)).on("change",(()=>function(){let t=e(I);r.selectAll(".filter").each(((e,n,o)=>{""!==o[n].value&&(t=t.filter((t=>t.invariants[e.invName]===Number(o[n].value))))})),R(t,window.cy1,window.parameters1)}()));const i=a.enter().append("td").classed("invData",!0),s=d.enter().append("td").classed("invData",!0);n.exit().remove(),o.exit().remove(),a.exit().remove(),d.exit().remove(),a.merge(i).html((e=>e.modeObj1.infobox())),d.merge(s).html((e=>e.modeObj2.infobox())),window.secondaryMode!==_&&window.secondaryMode.modeObj1.render()}function F(e){const t=r.select("#invariants").append("table").classed("invTab",!0);t.append("tr").classed("invTabHeaders",!0).append("td").html("Invariant"),t.append("tr").classed("invTabCy1",!0).append("td").html("Your Graph"),t.append("tr").classed("invTabCy2",!0).append("td").html("Target Graph"),t.append("tr").classed("invTabFilters",!0).append("td").html("Gallery Filter"),P(e)}I=a("jE6or");const H=e(d)({...e(l)(p.cyOptions),container:document.getElementById("cy1")}),U=e(d)({...e(l)(p.cyOptions),container:document.getElementById("cy2")}),G={idNodeCount:1,idEdgeCount:1,outputContainer:document.getElementById("output"),nodeIndex:[]},L={idNodeCount:1,idEdgeCount:1,outputContainer:document.getElementById("output"),nodeIndex:[],isoTarget:U,isoTargetParams:G},q=[{modeName:"modeClear",textKey:"Clear",icon:A.iconClear,modeObj1:new(0,M.default)(H,L),modeObj2:new(0,u.default)(U,G)},{modeName:"modeExport",textKey:"Export",icon:A.iconExport,modeObj1:new(0,O.default)(H,L),modeObj2:new(0,u.default)(U,G)},{modeName:"modeImport",textKey:"Import",icon:A.iconImport,modeObj1:new(0,N.default)(H,L),modeObj2:new(0,u.default)(U,G)},{modeName:"modeNull",textKey:"Pointer",icon:A.iconPointer,modeObj1:new(0,u.default)(H,L),modeObj2:new(0,u.default)(U,G)},{modeName:"modeNode",textKey:"Nodes",icon:A.iconNode,modeObj1:new(0,w.default)(H,L),modeObj2:new(0,u.default)(U,G)},{modeName:"modeEdge",textKey:"Edges",icon:A.iconEdge,modeObj1:new(0,f.default)(H,L),modeObj2:new(0,u.default)(U,G)}],B=[{modeName:"modeLoadRandom",textKey:"Target",icon:A.iconQuestion,modeObj1:new(0,u.default)(H,L),modeObj2:new class{render(){}infobox(){return""}constructor(t,n){e(C)(this,"activate",(()=>{const t=e(I).length,n=Math.floor(Math.random()*t);this.loadFile(e(I)[n].file),console.log(`Loaded ${e(I)[n].name}`)})),e(C)(this,"deactivate",(()=>{})),this.cy=t,this.parameters=n,this.loadFile=e=>{fetch(T[e]).then((e=>e.json())).then((e=>{this.cy.json(e),this.cy.layout({name:"random"}).run(),this.cy.fit(void 0,30),t.nodes().positions((e=>e.renderedPosition())),this.cy.fit(void 0,30),this.parameters.nodeIndex=this.cy.nodes().map((e=>e.id())),this.cy.emit("cm-graph-updated")}))}}}(U,G)},{modeName:"modeIsoCheck",textKey:"Check",icon:A.iconCheck,modeObj1:new class{render(){}infobox(){return""}constructor(t,n){e(C)(this,"activate",(()=>{this.findIsomorphisms()})),e(C)(this,"deactivate",(()=>{this.parameters.outputContainer.textContent=""})),this.cy=t,this.parameters=n,this.findIsomorphisms=()=>{if(window.Worker&&this.parameters.isoTarget&&this.parameters.isoTargetParams){const e=new Worker(E),t=this.cy,n=this.parameters.isoTarget,o=this.parameters,a=this.parameters.isoTargetParams,d=t.elements().utils().adjacencyMatrix(),i=n.elements().utils().adjacencyMatrix();e.postMessage([i,d]),e.onmessage=e=>{if(e.data.length>0){const d=e.data[0];t.layout({name:"preset",animate:!0,animationDuration:2e3,positions:e=>{const t=e.id(),i=o.nodeIndex.indexOf(t),r=d[i].indexOf(1),s=a.nodeIndex[r],m=n.$(`#${s}`).position();return console.log(t,i,r,s),m}}).run(),this.parameters.outputContainer.textContent="Isomorphism found!"}else this.parameters.outputContainer.textContent="Isomorphism NOT found!"}}else console.log("Your browser doesn't support web workers.")},window.findIso=this.findIsomorphisms}}(H,L),modeObj2:new(0,u.default)(U,G)}],$=[{modeName:"modeNumNodes",invName:"numNodes",textKey:"Order",modeObj1:new(0,b.default)(H,L),modeObj2:new(0,b.default)(U,G)},{modeName:"modeNumEdges",invName:"numEdges",textKey:"Size",modeObj1:new(0,g.default)(H,L),modeObj2:new(0,g.default)(U,G)},{modeName:"modeGirth",invName:"girth",textKey:"Girth",modeObj1:new(0,y.default)(H,L),modeObj2:new(0,y.default)(U,G)},{modeName:"modeDegSequence",invName:"degSequence",textKey:"Degree_sequence",modeObj1:new(0,h.default)(H,L),modeObj2:new(0,h.default)(U,G)},{modeName:"modeComponents",invName:"components",textKey:"Connected_components",modeObj1:new(0,v.default)(H,L),modeObj2:new(0,v.default)(U,G)},{modeName:"modeCircuitRank",invName:"circuitRank",textKey:"Circuit_rank",modeObj1:new(0,j.default)(H,L),modeObj2:new(0,j.default)(U,G)},{modeName:"modeDiameter",invName:"diameter",textKey:"Diameter",modeObj1:new(0,x.default)(H,L),modeObj2:new(0,x.default)(U,G)},{modeName:"modeDetAdjacency",invName:"detAdjacency",textKey:"Adjacency_det",modeObj1:new(0,k.default)(H,L),modeObj2:new(0,k.default)(U,G)}],Y=_,W=_;s.default.use(m.default).init(p.i18nextOptions);const J=e(c).init(s.default);function V(e,t){const n=r.select(e).selectAll("button").data(t).enter().append("button").classed("toolbar-button",!0).attr("id",(e=>`btn-${e.modeName}`));n.append("img").attr("src",(e=>e.icon?e.icon:A.iconDijkstra)),n.append("div").classed("translate",!0).attr("data-i18n",(e=>e.textKey)),n.on("click",((e,t)=>{var n;n=t,window.primaryMode.modeObj1.deactivate(),window.primaryMode.modeObj2.deactivate(),window.primaryMode=n,window.primaryMode.modeObj1.activate(),window.primaryMode.modeObj2.activate()}))}window.d3=r,window.parameters1=L,window.parameters2=G,e(i)((function(){window.cy1=H,window.cy2=U,window.primaryMode=Y,window.secondaryMode=W,Y.modeObj1.activate(),Y.modeObj2.activate(),function(){const e=r.select("#langSelector").classed("dropdown",!0);e.append("button").attr("class","btn btn-secondary dropdown-toggle").attr("type","button").attr("data-bs-toggle","dropdown").append("img").attr("src",A.iconTranslate).attr("width","30px"),e.append("ul").classed("dropdown-menu",!0),e.select(".dropdown-menu").selectAll("li").data(p.langList).enter().append("li").append("a").classed("dropdown-item",!0).attr("href","#").on("click",((e,t)=>{s.default.changeLanguage(t.isoCode).then((()=>J(".translate"))).catch((e=>{console.error(`Changing to language ${t.isoCode} failed.`,e)}))})).text((e=>e.endonym))}(),V("#toolbar",q),V("#target-tools",B),F($),R(e(I),H,L),window.filter=function(){R(e(I).filter((e=>0===e.invariants.detAdjacency)),H,L)},H.on("cm-graph-updated",(()=>P($))),U.on("cm-graph-updated",(()=>P($))),J(".translate")}));
//# sourceMappingURL=identify.19d8da6c.js.map

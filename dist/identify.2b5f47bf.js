function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=t.parcelRequire33cf;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},t.parcelRequire33cf=o),o("k7MU1").register(JSON.parse('{"bTNK7":"identify.2b5f47bf.js","7xBTE":"sgiso_worker.b7491b5b.js","7nvGH":"index.0f82989d.js"}'));var d=o("5KKEU"),i=o("54AWr"),s=o("8k2jw"),r=o("6Wn7g"),l=o("1sw6k"),c=o("2iS8N"),m=o("lVRnG");o("etEtk");var p=o("o8PHX"),u=o("iw6Aq"),w=o("3cw25"),f=o("4nuKq"),g=o("cyd7k"),y=o("2JjVN"),b=o("9vYTT"),h=o("bRZgy"),v=o("d6NgQ"),j=o("3KKZx"),O=o("3vMvi"),x=o("lwSBY"),N=o("big6F"),C=o("iVMYU"),E=o("jE6or"),T=o("gPtcg");var k,A,K=o("fL0K9"),I=o("dY183"),M=o("d6xW4");C=o("iVMYU"),s=o("8k2jw");A=function(e,t,a){if(t===self.location.origin)return e;var n=a?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))};let D=new URL(o("k7MU1").resolve("7xBTE"),import.meta.url);k=A(D.toString(),D.origin,!0);s=o("8k2jw"),E=o("jE6or"),T=o("gPtcg"),u=o("iw6Aq");const _={modeName:"modeNull",textKey:"Pointer",icon:(M=o("d6xW4")).iconPointer,modeObj1:new(0,u.default)(window.cy1,window.parameters1),modeObj2:new(0,u.default)(window.cy2,window.parameters2)};function S(e){window.secondaryMode.modeObj1.deactivate(),window.secondaryMode=e,window.secondaryMode.modeObj1.activate(),window.cy1.emit("cm-graph-updated"),window.cy2.emit("cm-graph-updated")}function R(e,t,a){const n=s.select("#gallery").selectAll("div.graphGalleryItem").data(e,(e=>e.file)),o=n.enter().append("div").classed("graphGalleryItem",!0).on("click",((e,n)=>{var o,d,i;o=t,d=a,i=n.file,fetch(T[i]).then((e=>e.json())).then((e=>{o.json(e),o.fit(void 0,30),o.nodes().positions((e=>e.renderedPosition())),o.fit(void 0,30),d.nodeIndex=o.nodes().map((e=>e.id())),o.emit("cm-graph-updated")}))}));o.append("div").append("img").attr("src",(e=>T[`${e.file}_Icon`])).attr("height","80px"),o.append("div").html((e=>e.name)),n.exit().remove()}function P(t){const a=s.select(".invTabHeaders").selectAll("td.invData").data(t),n=s.select(".invTabFilters").selectAll("td.invData").data(t),o=s.select(".invTabCy1").selectAll("td.invData").data(t),d=s.select(".invTabCy2").selectAll("td.invData").data(t);a.enter().append("td").classed("invData",!0).classed("translate",!0).attr("data-i18n",(e=>`[html]${e.textKey}`)).on("click",((e,t)=>{const a=e.currentTarget;a instanceof Element&&(t===window.secondaryMode?(S(_),s.select(a).classed("infoItemActive",!1)):(S(t),s.select(".infoItemActive").classed("infoItemActive",!1),s.select(a).classed("infoItemActive",!0)))})),n.enter().append("td").classed("invData",!0).append("input").classed("filter",!0).attr("cm-invariant",(e=>`${e.modeName}`)).on("change",(()=>function(){let t=e(E);s.selectAll(".filter").each(((e,a,n)=>{""!==n[a].value&&(t=t.filter((t=>String(t.invariants[e.invName])===n[a].value)))})),R(t,window.cy1,window.parameters1)}()));const i=o.enter().append("td").classed("invData",!0),r=d.enter().append("td").classed("invData",!0);a.exit().remove(),n.exit().remove(),o.exit().remove(),d.exit().remove(),o.merge(i).html((e=>e.modeObj1.infobox())),d.merge(r).html((e=>e.modeObj2.infobox())),window.secondaryMode!==_&&window.secondaryMode.modeObj1.render()}function B(e){const t=s.select("#invariants").append("table").classed("invTab",!0);t.append("tr").classed("invTabHeaders",!0).append("td"),t.append("tr").classed("invTabCy1",!0).append("td").html("Your graph"),t.append("tr").classed("invTabCy2",!0).append("td").html("Target graph"),t.append("tr").classed("invTabFilters",!0).append("td").html("Gallery filter"),P(e)}function H(e){const t=document.createElement("span"),a=s.select(t).append("button").classed("toolbar-button",!0).attr("id",`btn-${e.modeName}`);return a.append("img").attr("src",e.icon?e.icon:M.iconDijkstra),a.append("div").classed("translate",!0).attr("data-i18n",e.textKey),a.on("click",(()=>{var t;t=e,window.primaryMode.modeObj1.deactivate(),window.primaryMode.modeObj2.deactivate(),window.primaryMode=t,window.primaryMode.modeObj1.activate(),window.primaryMode.modeObj2.activate()})),t}E=o("jE6or");const U=e(d)({...e(m)(p.cyOptions),container:document.getElementById("cy1")}),F=e(d)({...e(m)(p.cyOptions),container:document.getElementById("cy2")}),G={idNodeCount:1,idEdgeCount:1,outputContainer:document.getElementById("output"),nodeIndex:[]},L={idNodeCount:1,idEdgeCount:1,outputContainer:document.getElementById("output"),nodeIndex:[],isoTarget:F,isoTargetParams:G},q=[{modeName:"modeClear",textKey:"Clear",icon:M.iconClear,modeObj1:new(0,K.default)(U,L),modeObj2:new(0,u.default)(F,G)},{modeName:"modeExport",textKey:"Export",icon:M.iconExport,modeObj1:new(0,x.default)(U,L),modeObj2:new(0,u.default)(F,G)},{modeName:"modeImport",textKey:"Import",icon:M.iconImport,modeObj1:new(0,N.default)(U,L),modeObj2:new(0,u.default)(F,G)},{modeName:"modeNull",textKey:"Pointer",icon:M.iconPointer,modeObj1:new(0,u.default)(U,L),modeObj2:new(0,u.default)(F,G)},{modeName:"modeNode",textKey:"Nodes",icon:M.iconNode,modeObj1:new(0,w.default)(U,L),modeObj2:new(0,u.default)(F,G)},{modeName:"modeEdge",textKey:"Edges",icon:M.iconEdge,modeObj1:new(0,f.default)(U,L),modeObj2:new(0,u.default)(F,G)}],$=[{modeName:"modeIsoCheck",textKey:"Check",icon:M.iconCheck,modeObj1:new class{render(){}infobox(){return""}constructor(t,a){e(C)(this,"activate",(()=>{this.findIsomorphisms()})),e(C)(this,"deactivate",(()=>{s.select("#isoOutput").classed("yes",!1).classed("no",!1).select("div").html("")})),this.cy=t,this.parameters=a,this.findIsomorphisms=()=>{if(window.Worker&&this.parameters.isoTarget&&this.parameters.isoTargetParams){const e=new Worker(k),t=this.cy,a=this.parameters.isoTarget,n=this.parameters,o=this.parameters.isoTargetParams,d=t.elements().utils().adjacencyMatrix(),i=a.elements().utils().adjacencyMatrix();e.postMessage([i,d]),e.onmessage=e=>{if(e.data.length>0){const d=e.data[0];t.layout({name:"preset",animate:!0,animationDuration:2e3,positions:e=>{const t=e.id(),i=n.nodeIndex.indexOf(t),s=d[i].indexOf(1),r=o.nodeIndex[s],l=a.$(`#${r}`).position();return console.log(t,i,s,r),l}}).run(),s.select("#isoOutput").classed("yes",!0).select("div").html("Graphs are isomorphic")}else s.select("#isoOutput").classed("no",!0).select("div").html("Graphs are <strong> not </strong> isomorphic")}}else console.log("Your browser doesn't support web workers.")},window.findIso=this.findIsomorphisms}}(U,L),modeObj2:new(0,u.default)(F,G)},{modeName:"modeLoadRandom",textKey:"Target",icon:M.iconQuestion,modeObj1:new(0,u.default)(U,L),modeObj2:new class{render(){}infobox(){return""}constructor(t,a){e(C)(this,"activate",(()=>{const t=e(E).length,a=Math.floor(Math.random()*t);this.loadFile(e(E)[a].file),console.log(`Loaded ${e(E)[a].name}`)})),e(C)(this,"deactivate",(()=>{})),this.cy=t,this.parameters=a,this.loadFile=e=>{fetch(T[e]).then((e=>e.json())).then((e=>{this.cy.json(e),this.cy.layout({name:"random"}).run(),this.cy.fit(void 0,30),t.nodes().positions((e=>e.renderedPosition())),this.cy.fit(void 0,30),this.parameters.nodeIndex=this.cy.nodes().map((e=>e.id())),this.cy.emit("cm-graph-updated")}))}}}(F,G)}],W=[{modeName:"modeNumNodes",invName:"numNodes",textKey:"Order",modeObj1:new(0,y.default)(U,L),modeObj2:new(0,y.default)(F,G)},{modeName:"modeNumEdges",invName:"numEdges",textKey:"Size",modeObj1:new(0,b.default)(U,L),modeObj2:new(0,b.default)(F,G)},{modeName:"modeGirth",invName:"girth",textKey:"Girth",modeObj1:new(0,g.default)(U,L),modeObj2:new(0,g.default)(F,G)},{modeName:"modeDegSequence",invName:"degSequence",textKey:"Degree_sequence",modeObj1:new(0,h.default)(U,L),modeObj2:new(0,h.default)(F,G)},{modeName:"modeComponents",invName:"components",textKey:"Connected_components",modeObj1:new(0,v.default)(U,L),modeObj2:new(0,v.default)(F,G)},{modeName:"modeCircuitRank",invName:"circuitRank",textKey:"Circuit_rank",modeObj1:new(0,j.default)(U,L),modeObj2:new(0,j.default)(F,G)},{modeName:"modeDiameter",invName:"diameter",textKey:"Diameter",modeObj1:new(0,O.default)(U,L),modeObj2:new(0,O.default)(F,G)},{modeName:"modeDetAdjacency",invName:"detAdjacency",textKey:"Adjacency_det",modeObj1:new(0,I.default)(U,L),modeObj2:new(0,I.default)(F,G)}],Y=_,J=_;r.default.use(l.default).init(p.i18nextOptions);const V=e(c).init(r.default);window.d3=s,window.parameters1=L,window.parameters2=G,e(i)((function(){function t(){s.select("#grid-container").classed("full-mode",!1),s.select("#grid-container").classed("collapsed-mode",!0),s.selectAll(".target, .target-tools").style("display","none"),s.selectAll(".invTabCy2").style("display","none")}window.cy1=U,window.cy2=F,window.primaryMode=Y,window.secondaryMode=J,Y.modeObj1.activate(),Y.modeObj2.activate(),function(){const e=s.select("#langSelector").classed("dropdown",!0);e.append("button").attr("class","btn btn-secondary dropdown-toggle").attr("type","button").attr("data-bs-toggle","dropdown").append("img").attr("src",M.iconTranslate).attr("width","30px"),e.append("ul").classed("dropdown-menu",!0),e.select(".dropdown-menu").selectAll("li").data(p.langList).enter().append("li").append("a").classed("dropdown-item",!0).attr("href","#").on("click",((e,t)=>{r.default.changeLanguage(t.isoCode).then((()=>V(".translate"))).catch((e=>{console.error(`Changing to language ${t.isoCode} failed.`,e)}))})).text((e=>e.endonym))}(),s.select("#toolbar").append("input").attr("type","checkbox").attr("id","targetCollapseButton").classed("btn-check",!0).attr("autocomplete","off").on("click",(()=>{s.select("#targetCollapseButton").node().checked?(s.select("#grid-container").classed("collapsed-mode",!1),s.select("#grid-container").classed("full-mode",!0),s.selectAll(".target, .target-tools").style("display","initial"),s.selectAll(".invTabCy2").style("display","table-row")):t()})),s.select("#toolbar").append("label").style("float","right").classed("btn btn-secondary",!0).attr("for","targetCollapseButton").html("Which graph is this?");const a=q.map((e=>H(e)));s.select("#toolbar").selectAll("span").data(a).enter().append((e=>e));const n=$.map((e=>H(e))),o=document.createElement("span");s.select(o).attr("id","isoOutput").append("div"),n.splice(1,0,o),s.select("#target-tools").selectAll("span").data(n).enter().append((e=>e)),B(W),R(e(E),U,L),U.on("cm-graph-updated",(()=>P(W))),F.on("cm-graph-updated",(()=>P(W))),t(),V(".translate")}));
//# sourceMappingURL=identify.2b5f47bf.js.map
